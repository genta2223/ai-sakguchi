# AIアバターシステム（源太AI） コアデータ作成・チューニングマニュアル

本ドキュメントは、AIアバターの頭脳となる「システムプロンプト」および「RAG（検索拡張生成）用FAQデータ」の基盤となる『コアデータ』の作成手法をまとめたものです。
AIに「単なる事実の羅列」ではなく、政治家としての「哲学・一貫性・人間味」を実装するためのプロセスを定義します。

## 1. コアデータ作成の目的
AIアバターが、いかなる想定外の質問や批判的なコメントに対しても、**「ブレない軸（保守・改革・現場主義）」**を持ち、**「実装者（実務家）としての攻撃的かつポジティブな回答」**を即座に生成できるようにするため。

## 2. 必要なインプット（原資データ）
NotebookLM等のLLMツールに読み込ませるための、以下の生データを準備します。
* **経歴書・実績データ**: ITビジネスでの起業・M&A実績、NPOの活動実績など。
* **基本政策・議会質問録**: 与那国馬活用（サンセット・ファームレース）、垂直農業（GC21）、住宅インフラ（アイラヒルズ）などの具体的な提案資料。
* **ターゲット層の分析**: どのような支持層（自民・維新・チームみらい等）にどうアプローチしたいかのメモ。

## 3. NotebookLMを用いた「コア」の抽出プロセス
用意したインプットデータをNotebookLMにアップロードし、以下のプロンプト（指示）を用いて情報を構造化させます。

### 抽出プロンプトの要件（AIへの指示内容）
1. **哲学の言語化**: 単なる政策の羅列ではなく、「なぜそれをするのか（理念）」と「どうやって実現するのか（実装力）」を掛け合わせたストーリーを作ること。
2. **キャッチコピーの生成**: 人格のブレを防ぐための、AIの基本スタンスとなる一言（例：「評論家はいらない。必要なのは『実装者』だ。」）を定義させること。
3. **Q&A形式への変換**: 有権者からの厳しい質問や批判を想定し、それに対する「防御」ではなく「強みのアピール」に転換するQ&Aを作成させること。

## 4. コアデータの必須構成要素（出力フォーマット）
生成されたコアデータは、以下の構成を満たしている必要があります。これをAIアバターの `system_prompt.txt` やRAGのインデックスに流し込みます。

### A. コンセプト・理念（AIの性格定義用）
* **キャッチコピー**: AIの回答のトーン＆マナー（語り口）を決定する。
* **Core Value（3本柱）**:
  1. 保守（Protect）: 守るべきものをどう守るか。
  2. 改革（Reform）: 無駄をどう省き、稼ぐか。
  3. 現場主義（Realism）: 理想論ではなく、どう実装するか。

### B. 政策の論理構造（RAGナレッジ用）
各政策について、以下の4点セットで整理されていること。
* **課題（Pain）**: 現状の何が問題か。
* **解決策（Solution）**: 具体的に何をどうするか。
* **技術/経済的裏付け（Evidence）**: なぜそれが可能か（IT、数字、ビジネスモデル）。
* **政治理念（Philosophy）**: それがどう国や島のためになるか。

### C. 想定Q&A集（FAQキャッシュ用）
批判や意地悪な質問（例：賭博ではないか？ 動物虐待ではないか？ 200万円のキャッチコピーは不適切ではないか？）に対する、論理的でポジティブな切り返しトークスクリプト。

## 5. アプリケーションへの組み込み（実装）
作成したコアデータは、Streamlitアプリ（v20.0以降）の以下の部分に適用します。

1. **System Prompt (`brain.py` 等)**:
   * 「コンセプト・理念」と「政策の論理構造」をプロンプトに組み込み、Geminiが回答を生成する際の「絶対的な人格の縛り」として機能させます。
2. **FAQキャッシュ (`greeting_cache.json` / FAISS Index)**:
   * 「想定Q&A集」をベクトル化してFAISSに登録します。これにより、類似の質問が来た際に、LLMの生成を待たずに（TTSもスキップして）0秒で爆速回答を返す特急レーン（v20.0の目玉機能）に乗せることができます。

## 6. チューニングの心得（継続的改善）
* YouTubeライブ等の実運用で、AIがうまく答えられなかった（あるいは回答がブレた）質問を収集します。
* その質問に対する「理想の回答」をこのコアデータ（想定Q&A）に追加し、FAISSインデックスを再構築することで、AI源太は日々賢く、タフに成長していきます。